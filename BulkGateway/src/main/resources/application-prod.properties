server.servlet.context-path=/BulkGateWay
server.port=8080
# Map custom DB settings to the properties the Java configs expect (spring.datasource.bc/bg)
# Bulk config (bc) - mysql
spring.datasource.bc.url=${BULK_CONFIG_URL:jdbc:mysql://192.168.26.201:3306/bulk_config?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.bc.username=${BULK_CONFIG_USER:admin}
spring.datasource.bc.password=${BULK_CONFIG_PASS:Isentric20@!}
spring.datasource.bc.driver-class-name=com.mysql.cj.jdbc.Driver

# Bulk gateway (bg) - mysql
spring.datasource.bg.url=${BULKGATEWAY_URL:jdbc:mysql://192.168.26.201:3306/bulk_gateway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.bg.username=${BULKGATEWAY_USER:admin}
spring.datasource.bg.password=${BULKGATEWAY_PASS:Isentric20@!}
spring.datasource.bg.driver-class-name=com.mysql.cj.jdbc.Driver

# Extmt datasource (used for extmt.route_config queries)
spring.datasource.extmt.url=${EXTMT_URL:jdbc:mysql://192.168.26.201:3306/extmt?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.extmt.username=admin
spring.datasource.extmt.password=Isentric20@!
spring.datasource.extmt.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=none

# Keep the original custom keys for compatibility
bulk_config.datasource.url=${BULK_CONFIG_URL:jdbc:mysql://192.168.26.201:3306/bulk_config?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
bulk_config.datasource.username=admin
bulk_config.datasource.password=Isentric20@!
bulk_config.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
bulk_config.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
bulk_config.jpa.hibernate.ddl-auto=none

# Bulkgateway datasource (legacy keys kept)
bulkgateway.datasource.url=${BULKGATEWAY_URL:jdbc:mysql://192.168.26.201:3306/bulk_gateway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
bulkgateway.datasource.username=admin
bulkgateway.datasource.password=Isentric20@!
bulkgateway.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
bulkgateway.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
bulkgateway.jpa.hibernate.ddl-auto=none

tga.url=http://192.168.26.100:8001/TGA/services/QSQuery

# ============================================================================
# ACTIVEMQ CONFIGURATION
# ============================================================================

# ActiveMQ Broker URL
spring.activemq.broker-url=${ACTIVEMQ_BROKER_URL:tcp://localhost:61616}

# ActiveMQ Connection Settings
spring.activemq.user=${ACTIVEMQ_USER:admin}
spring.activemq.password=${ACTIVEMQ_PASSWORD:admin}

# ActiveMQ Pool Configuration
spring.activemq.pool.enabled=true
spring.activemq.pool.max-connections=10
spring.activemq.pool.idle-timeout=30000
spring.activemq.pool.expiry-timeout=0

# JMS Settings
spring.jms.listener.acknowledge-mode=auto
spring.jms.listener.type=simple
# Concurrency is configured in ActiveMQConfig bean, not here
spring.jms.listener.max-concurrency=5

# JMS Message Configuration
spring.jms.pub-sub-domain=false

# ActiveMQ Queue Names
jms.queue.smpp.incoming=queue/SMPPSMSMessageQueue
jms.queue.smpp.response=queue/SMPPResponseQueue
jms.queue.sms.incoming=queue/SMSMessageQueue
jms.queue.sms.response=queue/SMSResponseQueue
spring.jpa.show-sql=false
spring.main.allow-bean-definition-overriding=true

# Prevent Hibernate from using JDBC metadata defaults on bootstrap (avoids early JDBC metadata access)
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# Defer JPA initialization until DataSource is ready
spring.jpa.defer-datasource-initialization=true

# Run server on non-default port to avoid conflicts

# Disable devtools automatic restart to avoid CGLIB/enhancer issues during iterative edits
spring.devtools.restart.enabled=false
spring.devtools.add-properties=false

# ============================================================================
# LOGGING CONFIGURATION - Configurable via @Value annotation
# ============================================================================

# Primary log path - Desktop location
LOGGER_PRIMARY_PATH=/home/log

# Backup/Default log path - Home directory location
LOGGER_DEFAULT_PATH_PREFIX=${user.home}/logs/bulk-gateway

# Maximum backup index for rolling file appender
LOGGER_MAX_BACKUP_INDEX=10