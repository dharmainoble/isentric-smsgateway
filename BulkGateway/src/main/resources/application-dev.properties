server.servlet.context-path=/BulkGateWay
server.port=9090
# Map custom DB settings to the properties the Java configs expect (spring.datasource.bc/bg)
# Bulk config (bc) - mysql
spring.datasource.bc.url=${BULK_CONFIG_URL:jdbc:mysql://127.0.0.1:3306/bulk_config?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.bc.username=${BULK_CONFIG_USER:root}
spring.datasource.bc.password=${BULK_CONFIG_PASS:arun}
spring.datasource.bc.driver-class-name=com.mysql.cj.jdbc.Driver

# Bulk gateway (bg) - mysql
spring.datasource.bg.url=${BULKGATEWAY_URL:jdbc:mysql://127.0.0.1:3306/bulkgateway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.bg.username=${BULKGATEWAY_USER:root}
spring.datasource.bg.password=${BULKGATEWAY_PASS:arun}
spring.datasource.bg.driver-class-name=com.mysql.cj.jdbc.Driver

# Extmt datasource (used for extmt.route_config queries)
spring.datasource.extmt.url=${EXTMT_URL:jdbc:mysql://127.0.0.1:3306/extmt?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
spring.datasource.extmt.username=root
spring.datasource.extmt.password=arun
spring.datasource.extmt.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=none

# Keep the original custom keys for compatibility
bulk_config.datasource.url=${BULK_CONFIG_URL:jdbc:mysql:/127.0.0.1:3306/bulk_config?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
bulk_config.datasource.username=root
bulk_config.datasource.password=arun
bulk_config.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
bulk_config.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
bulk_config.jpa.hibernate.ddl-auto=none

# Bulkgateway datasource (legacy keys kept)
bulkgateway.datasource.url=${BULKGATEWAY_URL:jdbc:mysql://127.0.0.1:3306/bulkgateway?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC}
bulkgateway.datasource.username=root
bulkgateway.datasource.password=arun
bulkgateway.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
bulkgateway.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
bulkgateway.jpa.hibernate.ddl-auto=none

# Other helpful dev settings
spring.jpa.show-sql=false
spring.main.allow-bean-definition-overriding=true

# Prevent Hibernate from using JDBC metadata defaults on bootstrap (avoids early JDBC metadata access)
spring.jpa.properties.hibernate.temp.use_jdbc_metadata_defaults=false

# Defer JPA initialization until DataSource is ready
spring.jpa.defer-datasource-initialization=true

# Run server on non-default port to avoid conflicts

# Disable devtools automatic restart to avoid CGLIB/enhancer issues during iterative edits
spring.devtools.restart.enabled=false
spring.devtools.add-properties=false

# ============================================================================
# LOGGING CONFIGURATION - Configurable via @Value annotation
# ============================================================================

# Primary log path - Desktop location
LOGGER_PRIMARY_PATH=/home/arun/Desktop/log

# Backup/Default log path - Home directory location
LOGGER_DEFAULT_PATH_PREFIX=${user.home}/logs/bulk-gateway

# Maximum backup index for rolling file appender
LOGGER_MAX_BACKUP_INDEX=10

